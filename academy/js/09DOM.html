<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>문서객체모델</title>
    <style>
        table {
            display: inline;
            text-align: center;
            margin: 0 0 0 400px;
            border-collapse: collapse;
        }
        table thead{
        }
        table thead th,td {
            border: 1px solid black;
            padding: 5px;
        }
        table thead:nth-child(2){
            width: 200px;}
        table tbody {

        }
    </style>
</head>
<body>
<h1>문서객체모델</h1>
<div id="div1">dd</div>
<div class="div2">dd</div>
<div name="div3">dd</div>
<div>ww</div>
<p>dd</p>
<script>
    let div1 = document.getElementById('div1');         //ID로 요소 검색
    let div2 = document.getElementsByClassName('div2'); //클래스명으로 검색
    let div3 = document.getElementsByName('div3');      //이름 속성으로 검색
    let div3 = document.getElementsByTagName('div');    //태그명으로 검색
    let p1 = document.querySelector('p');               // CSS 선택자로 검색
    let p2 = document.querySelectorAll('p');            // CSS 선택자들로 검색 - 결과는 복수
    let div4 = document.querySelector('#div1'); //css선택자로 검색
    let div5 = document.querySelector('.div2'); //css선택자로 검색
    let divs = document.getElementsByClassName('div');

    div1.innerHTML = 'Hello, World';
    div2[0].innerHTML = '이글이 보이나요?';
    div3[0].innerHTML = '한번더, Hello, world';
    divs[3].innerHTML = '시간은 금이라구, 친구!!';
    p1.innerHTML = 'Hello, World, again!!';

    div1.style.color = 'red';
    div1.style.fontWeight = 'bold';

    div2[0].style.fontStyle = 'italic';
    div3[0].style.textDecoration = 'underline';
    div3.style.color = 'green';
    divs[4].style.fontFamily = '궁서체';
    p1.style.background = 'yellow';
    //div2 이텔릭
    //div3 밑줄, 녹색 글자색
    //4번째 div 궁서체
    //p1 노란색 배경
</script>
<script>
    //문서제목에 현재시간을 표시하는
    //DOM 스크립트를 작성
    //단, 현재시간을 표시하는 함수는 today라 정함

    function today(){
        let today= new Date();
        let hh = today.getHours();
        let mm = today.getMinutes();
        let ss = today.getSeconds();
        let time = hh + ':' + mm + ':' + ss;
        return time;
    }

    let time = '문서객체모델 [' + today()+ ']';
    let title = document.querySelector('title');
    title.innerHTML = time;
</script>

<h2>이미지 조작하기</h2>
<div><button type="button" id="showbtn">이미지 나와랏!</button>
    <button type="button"  id="hidebtn">이미지 사라져랏!</button>
</div>
<div id="imgdiv"></div>
<script>
    let showbtn = document.getElementById('showbtn');
    let hidebtn = document.getElementById('hidebtn');
    let imgdiv = document.getElementById('imgdiv');

    showbtn.addEventListener('click', showimg);
    hidebtn.addEventListener('click', hideimg);


    //버튼 클릭시 띄울 이미지들을 배열로 정의
    let images = ['curly.png', 'PS20110900045.jpg', 'Marshal.png'];


    function showimg(){
        //img요소, src 속성 생성
        let img = document.createElement('img');
        let src = document.createAttribute('src');
        //src속성에 이미지경로 지정후 img요소에 지정
        // src.value = '../img/Marshal.png';
        let idx = parseInt(Math.random()*3);
        src.value = '../img/' + images[idx];
        img.setAttributeNode(src);
        // div요소에 img 요소 추가
        imgdiv.appendChild(img);
    }
    function hideimg(){
        // let img = imgdiv.lastChild; //imgdiv에 마지막 자식요소 선택
        let img = imgdiv.firstChild;
        imgdiv.removeChild(img);
    }
</script>
<h2>동적으로 테이블생성하기</h2>
<table id="t_notice">
    <thead>
    <tr><th>번호</th><th>제목</th><th>작성자</th>
        <th>작성일</th><th>조회수</th></tr>
    </thead>
    <tbody>
    <script>
       for(let i = 15; i >= 1; i--)
        {document.write("<tr><td>"+i+"</td>" +
        "<td><a href='#'>시간은 금이라구, 친구! 진짜라구, 친구! 정말이라구, 친구! 사실이라구, 친구!</a></td> " +
        "<td>황성태</td><td>2021-12-25</td> " +
        "<td>777</td></tr>");}
    </script>
    </tbody>
</table>
<h2>동적으로 테이블생성하기2</h2>
<table id="notice1">
</table>
<script>
    //table -> tbody -> tr -> th/td -> 텍스트 순으로 요소 생성
    // 텍스트 -> th/td -> tr -> tbody -> table 순으로 자식요소로 추가
    let table = document.getElementById('notice1');
    let tbody = document.createElement('tbody');
    //제목행 생성
    let tr = document.createElement('tr');
    let th1 = document.createElement('th'); // 번호
    let th2 = document.createElement('th'); // 제목
    let th3 = document.createElement('th'); // 작성자
    let th4 = document.createElement('th'); // 작성일
    let th5 = document.createElement('th'); //조회수

    // 제목행에 작성할 테스트 노드 생성
    let txt1 = document.createElement('번호');
    let txt2 = document.createElement('제목');
    let txt3 = document.createElement('작성자');
    let txt4 = document.createElement('작성일');
    let txt5 = document.createElement('조회수');

    //생성한 텍스트를 제목열에 자식요소로 추가
    th1.appendChild(txt1);
    th2.appendChild(txt2);
    th3.appendChild(txt3);
    th4.appendChild(txt4);
    th5.appendChild(txt5);

    //생성한 제목열들을 제목행에 자식요소로 추가
    tr.appendChild(th1);
    tr.appendChild(th2);
    tr.appendChild(th3);
    tr.appendChild(th4);
    tr.appendChild(th5);

    //생성한 제목행을 tbody에 자식요소로 추가
    tbody.appendChild(tr);
    //생성한 tbody를 테이블에 자식요소로 추가
    table.appendChild(tbody);

    //본문행 생성
    //
    tr = document.createElement('tr');
    let td1 = document.createElement('td'); // 번호
    let td2 = document.createElement('td'); // 제목
    let td3 = document.createElement('td'); // 작성자
    let td4 = document.createElement('td'); // 작성일
    let td5 = document.createElement('td'); //조회수

    // 본문행에 작성할 테스트 노드 생성
    let txt1 = document.createElement('1');
    let txt2 = document.createElement('시간은 금이라구 친구! 진짜라구, 친구! 정말');
    let txt3 = document.createElement('tjdxo123');
    let txt4 = document.createElement('2021.01.07');
    let txt5 = document.createElement('777');

    //생성한 텍스트를 제목열에 자식요소로 추가
    td1.appendChild(txt1);
    td2.appendChild(txt2);
    td3.appendChild(txt3);
    td4.appendChild(txt4);
    td5.appendChild(txt5);

    //생성한 제목열들을 제목행에 자식요소로 추가
    tr.appendChild(td1);
    tr.appendChild(td2);
    tr.appendChild(td3);
    tr.appendChild(td4);
    tr.appendChild(td5);

    //생성한 제목행을 tbody에 자식요소로 추가
    tbody.appendChild(tr);

</script>
<h2>동적으로 테이블생성하기3</h2>
<table id="notice3"></table>
<script>
     table = document.getElementById('notice3');
     tbody = document.createElement('tbody');

    let thvalue = ['번호', '제목', '작성사', '작성일', '조회수'];
    let tdvalue = ['1', '시간은 금이라구', 'tjdxo1193', '2021-12-25', '777'];

    tr = document.createElement('tr');
    let th, td, txt = null;

    for (let i = 0; i <5; ++i){
        th = document.createElement('th')
        txt = document.createTextNode(thvalue[i]);
        th.appendChild(txt);
        tr.appendChild(th);
    }
    tbody.appendChild(tr);

    //본문행 추가
     for(let j=1; j<=15; ++j) {
         tr = document.createElement('tr');
         for (let i = 0; i < 5; ++i) {
             td = document.createElement('td')
             txt = document.createTextNode(tdvalue[i]);
             td.appendChild(txt);
             tr.appendChild(td);
         }
         tbody.appendChild(tr);
     }
     //생성된 tbody를 table에 추가
     table.appendChild(tbody);




</script>

<h2>주소검색</h2>
<div>
    <select id="sido">
        <option>시도</option>
        <option>서울특별시</option>
        <option>경기도</option>
        <option>인천광역시</option>
        <option>부산광역시</option>
    </select>
    <select id="gugun">
        <option>시/군/구</option>
    </select>
    <select id="dong">
        <option>읍/면/동</option>
    </select>
</div>
<p id="addr"></p>
<script>
    // 전국 시도중 하나를 선택하면
    // 선택한 시도에 대한 시군구가 다음 select에 목록으로 출력되고
    // 시군구 중 하나를 선택하면 선택한 시군구에 대한 읍면동이
    // 다음 select 에 목록으로 출력되도록 함
    // 포인트1 : 인벤트발생시 option 태그가 동적으로 생성
    // 포인트2 : select 에서 발생가능한 이벤트는 change
    // 포인트3 : select 에서 선택한 항목의 정보는
    //          selectedIndex 속성을 이용
    // 포인트4 : option 태그에 텍스트를 추가하려면
    //          createTextNode 를 이용

    let sd = ['','서울특별시', '경기도', '인천광역시', '부산광역시'];
    let sgg = [['- 시/군/구 -'],
               ['- 시/군/구 -' ,'강남구', '서초구', '송파구'],
               ['- 시/군/구 -' ,'광명시', '구리시', '성남시', '수원시', '고양시'],
               ['- 시/군/구 -' ,'연수구', '남동구', '서구'],
               ['- 시/군/구 -' ,'동래구','해운대구','기장군', '진구']];
    let ymd = [[['- 읍/면/동 -'] ],
               [['- 읍/면/동 -'],
                   ['- 읍/면/동 -','논현동', '대치동', '삼성동'],
                   ['- 읍/면/동 -','반포동','방배동', '양재동'],
                   ['- 읍/면/동 -','가락동', '석촌동', '잠실동']],
               [['- 읍/면/동 -'],
                   ['- 읍/면/동 -','1'],
                   ['- 읍/면/동 -','2'],
                   ['- 읍/면/동 -','3'],
                   ['- 읍/면/동 -','4'],
                   ['- 읍/면/동 -','5']],
               [['- 읍/면/동 -'], ['- 읍/면/동 -','A'], ['- 읍/면/동 -','B'], ['- 읍/면/동 -','C']],
               [['- 읍/면/동 -'], ['- 읍/면/동 -','가'], ['- 읍/면/동 -','나'], ['- 읍/면/동 -','다'], ['- 읍/면/동 -','라']]]
    let sido = document.getElementById('sido');
    let gugun = document.getElementById('gugun');
    let dong = document.getElementById('dong');

    sido.addEventListener('change', makegu);

    function makegu(){
        //현재 선택한 시도의 index값을 알아냄
        let sidx = sido.selectedIndex;

        //이미 등록된 목록은 제거
        while(gugun.lastChild){//구군목록에 option 태그가 있는가?
            gugun.removeChild(gugun.lastChild);
        }

        //선택한 시도에 대한 구군목록을 배열에서 가져와서
        //구군 select 에 목록으로 추가함
        //<select><option>강남구</option></select>
        for(let gg of sgg[sidx]){
            let opt = document.createElement('option');
            let txt = document.createTextNode(gg);
            opt.appendChild(txt);
            gugun.appendChild(opt);
        }
    }
    //두번째 select 요소에 이벤트 핸들러 등록
    // 첫번째 항목에서 선택한 값과
    // 두번째 항목에서 선택한 값을 이용해서 읍면동 출력
    // 포인트 0 : 핸들러명 - makedong
    // 포인트 1 : 변수명 of 배열명[시도][구군]

    gugun.addEventListener('change', makedong);
    function makedong(){
        let sidx = sido.selectedIndex;
        let gidx = gugun.selectedIndex;

        while(dong.lastChild){
            dong.removeChild(dong.lastChild);
        }

        for (let dg of ymd[sidx][gidx]){
            let opt = document.createElement('option');
            let txt = document.createTextNode(dg);
            opt.appendChild(txt);
            dong.appendChild(opt);
        }
    }
    //세번째 select 요소에 이벤트핸들러 등록
    //선택한 주소(시도/시군/읍면동)를 p요소를 이용해서 출력


    dong.addEventListener('change', showaddr);
    let addr = document.getElementById('addr');
    function showaddr(){
        let result = sido.value + ' ' + gugun.value + ' ' + dong.value;
        addr.innerHTML = '당신이 선택한 주소는 <b>' + result + '</b> 입니다';
    }
</script>
<script>
    // let msg = 'Hello, World';
    // alert(`${msg}`);
    // console.log(`${msg}`)
</script>
</body>
</html>
<!--
DOM document object model
html/xml 문서의 각 요소에 접근하기 위해 만들어둔 객체들의 모음
DOM을 이용해서 문서 내 모든 요소를 접근하고 조작할 수 있음
즉, 기존 문서에 새로운 요소를 추가/수정/삭제할 수 있고
기존 요소를 수정/삭제 할 수 있으며 스타일 역시 추가/수정/삭제할 수 있음
브라우저로 웹문서를 읽으면 분석parsing과정을 거쳐 자동으로 생성됨
DOM 중에서 document 개체는 문서 자체를 의미
즉, 웹문서내 특정요소에 접근하려면 반드시
document 개체를 통해야만 함
한편, document객체를 통해 문서의 특정요소를 선택하려면
getElementById, getQuertSelector,
getElementsByTagName, getElementsByClassName,
getElementsByName, querySelectorAll 등의 함수를 이용해야 함

DOM을 이용해서 선택한 html요소의 내용이나 속성을 변경하려면
요소명.innerHTML 또는 요소명.속성명을 이용하면 됨
또한, 선택한 html요소의 스타일을 변경하려면
요소명.style.스타일속성을 사용하면 됨
-->

<!--
DOM을 이용해서 문서에 새로운 요소나 속성을 추가하려면
createElement, createAttribute,createTextNode,
appendChild, removeChild, setAttribute 등의 함수 이용
-->
<!--
k-apt.go.kr
-->